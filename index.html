<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
</head>

<body>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>

    <div id="div">
        <div id="span"></div>
        <div id="bola"></div>
    </div>
    <div>
        <button onclick="left();" onkeydown=""> LEFT </button>
        <button onclick="right();"> RIGHT </button>
        <button onclick="up();"> UP </button>
        <button onclick="down();"> DOWN </button>
        <button onclick="start()">START</button>
    </div>










    <script>


        let ancho = 900
        let alto = 700

        let snake = {
            x: 0,
            y: 0,
            size: 20
        }
        let directionX = 40
        let directionY = 0


        // ---------- TABLE ----------


        let div = document.getElementById('div').style;


        function table() {

            div.width = ancho + 'px';
            div.height = alto + 'px';
            div.backgroundColor = '#76F591'
            div.border = '10px dashed #006014'
            div.margin = 0 + 'px';

            randomBall()
        }


        // ---------- SNAKE ----------

        let span = document.getElementById('span').style;

        function createSnake() {
            span.padding = snake.size + 'px'
            span.background = 'red'
            span.position = 'absolute'
            span.top = snake.y + 'px'
            span.left = snake.x + 'px'
        }



        // ---------- BALLS ----------


        let bola = document.getElementById('bola').style;
        var ball = {
            x: 0,
            y: 0,
            size: 40
        }
        function randomBall() {
            ball.x = Math.floor(Math.random() * (ancho - snake.size) + snake.size)
            ball.y = Math.floor(Math.random() * (alto - snake.size) + snake.size)

        }

        function balls() {
            bola.width = ball.size + 'px'
            bola.height = ball.size + 'px'
            //bola.borderRadius = 100 + '%'
            bola.background = 'black'
            bola.position = 'relative'
            bola.top = ball.y + 'px'
            bola.left = ball.x + 'px'
        }



        // ---------- MOVIMIENTO ----------

        function mover() {
            snake.x = snake.x + directionX
            snake.y = snake.y + directionY

        }

        function left() {
            xSnake -= 40
            directionX = -1
            directionY = 0
        }
        function right() {
            xSnake += 20
            directionX = +1
            directionY = 0
        }
        function up() {
            ySnake -= 20
            directionY = -1
            directionX = 0
        }
        function down() {
            ySnake += 20
            directionY = +1
            directionX = 0

        }
        document.onkeydown = function (e) {
            switch (e.keyCode) {
                case 37:
                    snake.x -= 40
                    directionX = -40
                    directionY = 0
                    break;
                case 38:
                    snake.y -= 40
                    directionY = -40
                    directionX = 0
                    break;
                case 39:
                    snake.x += 40
                    directionX = +40
                    directionY = 0
                    break;
                case 40:
                    snake.y += 40
                    directionY = +40
                    directionX = 0
                    break;
            }
        };




        // ---------- INICIADOR ----------

        function start() {
            setInterval(() => {
                mover()
                createSnake()
                balls()
                if ((snake.x - 10) == ball.x || (snake.y - 10) == ball.y) {
                    randomBall()
                }
            }, 1000 / 15);
        }
        table()




    </script>
</body>

</html>